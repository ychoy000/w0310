<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>carousel 관련 메서드</title>
    <!-- 캐로셀의 구성
      1. 좌우버튼
      2. 인디케이터(페이지네이션) -> 동그라미
      3. 자동 움직임 
      4. 텍스트 모션
      5. 이미지/비디오/텍스트
      6. 슬라이드 또는 페이드효과
    -->
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      body {
        font-family: "굴림", sans-serif;
        font-size: 12px;
      }
      #wrap {
        width: 200px;
        margin: 20px auto;
        border: 1px solid #red;
      }
      #wrap .page {
        text-align: right;
        margin-bottom: 5px;
      }
      #wrap .page .page_n {
        /* display: inline-block; */
        margin-right: 10px;
      }
      #wrap .page button {
        border: none;
        background: #666;
        color: #fff;
        width: 20px;
        height: 20px;
        line-height: 1.5;
        overflow: hidden;
        cursor: pointer;
      }
      #wrap .vis {
        width: 200px;
        height: 200px;
        border: 2px solid #505900;
        overflow: hidden;
      }
    </style>
    <script src="jquery-3.3.1.min.js"></script>
    <script type="text/javascript">
      $(() => {
// 더 줄어든 스크립트

        $('.page_n >span:first').text(current);
        $('.page_n >span:last').text(total);

        function slide(dir) {
          if (dir === 'next') {
            //nex button click
            current = current % total + 1;
            $('.vis div:first').insertAfter('.vis div:last');
            } else {
              //prev button click
              current = (current - 2 + total) % total + 1;
              $('.vis div:last').insertBefore('.vis div:first');  
            }  
          
          $('.page_n >span:first').text(current);
        }
        $('.next_b').click(() => slide('next'));
        $('.prev_b').click(() => slide('prev'));
      })
 /* 
 책에 있는 방법의 다른 코드
 $(() => {
        const totalNum = $(".vis > div").length; // 4
        let currentNum = 1;

        $(".page_n > span:first").text(currentNum);
        $(".page_n > span:last").text(totalNum);

        $(".next_b").click(() => {
          currentNum++;
          console.log(currentNum);
          if (currentNum < totalNum) {
            currentNum = 1;
          }
          $(".vis  div:first").insertAfter('.vis div:last');
          $(".page_n > span:first").text(currentNum);
        });
        $(".prev_b").click(() => {
          currentNum--;
          console.log(currentNum);
          if (currentNum < 1) {
            currentNum = totalNum;
          }
            $(".vis  div:first").insertBefore('.vis div:last');
            $(".page_n > span:first").text(currentNum);
        });
      }); */
/*  $(document).ready(function () {
        var totalNum = $(".vis > div").length; // 4
        var currentNum = 1;
        // 이부분에 코드를 작성합니다.
        $(".next_b").click(function () {
          // 이부분에 코드를 작성합니다.
        });
        $(".prev_b").click(function () {
          // 이부분에 코드를 작성합니다.
        });
      }); */
    </script>
  </head>
  <body>
    <div id="wrap">
      <div class="page">
        <!-- pager or pagination(indicator) -->
        <span class="page_n"> <span></span> / <span></span> </span>
        <button class="prev_b">&lt; 이전</button>
        <button class="next_b">&gt; 다음</button>
      </div>
      <div class="vis">
        <div>
          <a href="#"><img src="1.jpg" alt="HTML" /></a>
        </div>
        <div>
          <a href="#"><img src="2.jpg" alt="CSS" /></a>
        </div>
        <div>
          <a href="#"><img src="3.jpg" alt="Javascript" /></a>
        </div>
        <div>
          <a href="#"><img src="4.jpg" alt="jQuery" /></a>
        </div>
      </div>
    </div>
  </body>
</html>
