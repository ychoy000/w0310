<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JQUERY Method</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <style>
      * {
            margin: 5px;
        }
        input[type=text].on {
            background: #ff6600;
            color: #fff;
        }
        #m2 {
          border: 1px solid red;
        }
        p{
            color: #ff0000;
            display: none;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" ></script>
    
  </head>

  <body>
     <div id="m1">
        <label>m1</label>
        <input type="text" placeholder="값을 입력하세요.">
    </div>
    <div id="m2">
        <input type="text" placeholder="값을 입력하세요.">
    </div>
    <div id="m3">
        <label for="m_3">m3</label>
        <input type="text" value="10" title="값을 수정한 후 다음 입력요소로 이동하세요.">
    </div>
    <div id="m4">
        <label for="m_4">m4</label>
        <input id="m_4" type="text" value="텍스트를 드래하세요.">
    </div>
    <form action="#" class="frm">
        <fieldset>
            <legend>로그인</legend>
            <div>
                <label for="id">아이디</label><input type="text" id="id">
            </div>
            <p class="msg1">아이디를 입력하세요!</p>
            <div>
                <label for="pw">비밀번호</label><input type="password" id="pw">
            </div>
            <p class="msg2">비밀번호를 입력하세요!</p>
            <!-- 버튼 태그에 type="submit"이 생략된 경우에도 submit이 됨 -->
            <button>전송</button>
        </fieldset>
    </form>

    <script>

      $(() => {
        $('#m1').focus(function() {
          $(this).addClass('on');
        }).blur(function() {
          $(this).removeClass('on');
        });
        $('#m2').focusin(function() {
          $(this).children.addClass('on');
        }).focusout(function() {
          $(this).children.removeClass('on');
        });
        $('#m3 input').change(function() {
          const c = confirm('값을 수정하셨나요?');
          if (!c) {
            // this 에 값을 10으로 지정한다.
          $(this).val(10)
          }
        
        });
        $('#m4 input').select(()=> {
          console.log($(event.target));
          const v = $(event.target).val();
          const size = v.length;
          alert(`${v} 총 ${size} 문자를 선택하셨습니다.`)
        });
        $('.frm').submit(function(){
          if(!$('#id').val()) {
            $('.msg1').css({display: 'block'});
            $('#id').focus(); // 사용자의 편의성을 위해
            return false;
          } else {
            $('.msg1').css({display: 'none'});
          }
          if(!$('#pw').val()) {
            $('.msg2').css({display: 'block'});
            $('#pw').focus(); //폼 데이터가 서버로 전송되지 않고, 상위로 
            return false;
          } else {
            $('.msg2').css({display: 'none'});
          }
        })
      });

      /*
         Form Related Event
          focus()
          blur()
          focusin() -> 선택한 요소나 자식 요소에 포커스가 들어오면
          focusout() -> 선택한 요소나 자식 요소에 포커스가 나가면
          change() -> 선택된 요소의 값이 변경되었을 때, 값을 입력 후 포커스가 떠났을 때
          select() -> 요소에 값을 선택하였을 때, (입력 상자의 텍스트를 드래그했을 때)
          submit() -> 폼 데이터가 서버로 전송될 때(전송 버튼을 눌렀을 때)

        Method
          val()  -> 요소의 값을 가져온다.
          val(값)  -> 요소의 값을 지정한다.
          length()  -> 요소나 요소 값의 개수(문자열의 문자 수)
      */
    </script>
  </body>
</html>
